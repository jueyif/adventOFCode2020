
# input = [20,0,1,11,6,3]


S = [0,3,6] 

last_index = {}

for i,n in enumerate(S):
    if i != len(S)-1:
        print('i:', i, 'n:', n)
        last_index[n] = i

print(last_index)

while len(S) < 10:
    prev = S[-1]
    print('prev:', prev)
    prev_prev = last_index.get(prev, -1)
    print('prev_prev:', prev_prev)
    last_index[prev] = len(S)-1
    print('last_index[prev]:', last_index[prev] )
    if prev_prev == -1:
        next_ = 0
    else:
        next_ = len(S) - 1 - prev_prev
    S.append(next_)
    print('next:', next_)
    print('--------------------------')

print(S)
























# record = {}

# game = input


# def refresh_count_record():
#     for i, number in enumerate(game):
#         count = game.count(number)
#         record[number] = count

# refresh_count_record()

# # 

# for i in range(len(input)-1, 30000000):
#     print('i:' , i)
#     if record[game[i]] == 1:
#         # print('record[game[i]]:', record[game[i]])
#         game.append(0)
#         # print(game)
#         refresh_count_record()
#     else: 
#         qq = []
#         for j, number in enumerate(game):
#             if number == game[i]: 
#                 qq.append(j+1)
#                 # print('qq:', qq)
#         bigIndex = qq[-1]
#         smallIndex = qq[-2]
#         # print(bigIndex, smallIndex)
#         game.append(bigIndex - smallIndex)
#         # record[number] += 1
#         refresh_count_record()



# print(game)
# print('-----------------------')
# print(record)

# di = {0: 380, 3: 61, 6: 79, 1: 76, 4: 139, 2: 29, 8: 34, 5: 131, 18: 12, 15: 24, 21: 8, 17: 20, 10: 24, 26: 13, 25: 9, 11: 25, 33: 7, 23: 21, 49: 7, 19: 11, 7: 62, 13: 11, 9: 33, 41: 6, 29: 11, 16: 20, 63: 4, 24: 14, 37: 10, 52: 5, 71: 3, 46: 4, 94: 2, 83: 3, 31: 6, 50: 4, 22: 8, 45: 7, 73: 6, 75: 4, 38: 7, 148: 3, 12: 17, 116: 3, 72: 2, 44: 7, 51: 8, 47: 5, 156: 3, 14: 15, 152: 5, 110: 1, 87: 3, 131: 3, 128: 3, 42: 7, 104: 7, 98: 3, 135: 2, 170: 2, 54: 9, 77: 4, 67: 6, 119: 2, 60: 5, 136: 2, 74: 3, 99: 3, 80: 1, 133: 4, 284: 2, 28: 7, 274: 1, 195: 1, 88: 5, 113: 2, 182: 2, 81: 3, 84: 2, 123: 5, 78: 3, 70: 4, 39: 8, 36: 10, 27: 8, 184: 1, 194: 1, 109: 6, 169: 1, 282: 4, 76: 1, 30: 12, 93: 1, 224: 1, 155: 1, 175: 1, 243: 1, 262: 1, 192: 1, 178: 3, 55: 7, 189: 7, 34: 5, 95: 2, 107: 4, 320: 1, 254: 3, 227: 1, 57: 3, 130: 1, 48: 5, 53: 2, 40: 4, 106: 2, 226: 3, 293: 4, 108: 5, 335: 3, 146: 2, 498: 2, 20: 8, 412: 1, 82: 2, 358: 2, 115: 1, 200: 1, 408: 1, 91: 2, 261: 2, 205: 1, 347: 1, 96: 3, 272: 2, 56: 7, 149: 2, 238: 1, 266: 3, 283: 1, 138: 2, 58: 7, 370: 1, 271: 1, 32: 6, 448: 1, 545: 1, 464: 1, 103: 2, 421: 1, 510: 1, 276: 1, 43: 3, 218: 2, 61: 3, 637: 1, 404: 1, 336: 2, 263: 2, 121: 3, 679: 1, 650: 1, 620: 1, 501: 1, 90: 1, 174: 1, 433: 1, 384: 1, 125: 1, 102: 1, 167: 3, 241: 3, 256: 1, 97: 2, 516: 1, 403: 2, 196: 3, 374: 2, 249: 1, 429: 2, 643: 1, 120: 1, 577: 1, 139: 1, 176: 4, 144: 1, 229: 1, 294: 2, 105: 2, 729: 2, 35: 3, 462: 1, 366: 2, 202: 2, 814: 1, 79: 4, 786: 1, 252: 1, 198: 2, 388: 1, 206: 1, 296: 2, 365: 1, 376: 2, 209: 1, 670: 1, 185: 2, 65: 3, 89: 5, 59: 3, 646: 1, 199: 2, 698: 1, 257: 1, 62: 4, 776: 1, 246: 1, 203: 1, 186: 2, 459: 1, 159: 2, 748: 2, 299: 1, 337: 1, 68: 5, 523: 1, 578: 2, 423: 1, 278: 1, 298: 1, 393: 1, 235: 2, 444: 1, 137: 1, 143: 1, 489: 1, 145: 1, 140: 2, 332: 1, 193: 1, 862: 1, 628: 1, 920: 1, 386: 2, 714: 1, 753: 1, 521: 1, 245: 1, 151: 1, 914: 1, 208: 1, 242: 2, 536: 1, 505: 1, 201: 1, 375: 1, 446: 1, 534: 1, 338: 1, 477: 1, 385: 3, 85: 4, 691: 1, 333: 1, 857: 3, 207: 1, 418: 1, 259: 2, 823: 1, 219: 1, 1050: 1, 978: 1, 124: 2, 258: 1, 157: 2, 655: 1, 343: 2, 373: 1, 514: 1, 1150: 1, 1070: 1, 353: 1, 688: 1, 1190: 1, 485: 1, 747: 1, 515: 1, 314: 1, 356: 1, 888: 1, 114: 1, 961: 1, 286: 1, 453: 1, 270: 1, 600: 1, 187: 2, 295: 1, 435: 2, 306: 1, 678: 1, 997: 1, 627: 2, 302: 1, 675: 1, 550: 1, 642: 1, 312: 1, 809: 1, 409: 1, 783: 1, 247: 1, 222: 1, 1018: 1, 1209: 1, 273: 1, 325: 1, 558: 1, 255: 1, 1076: 1, 225: 1, 1028: 1, 111: 1, 1010: 1, 379: 1, 1111: 1, 1388: 1, 740: 1, 968: 1, 712: 1, 180: 1, 530: 1, 118: 1, 232: 1, 730: 1, 251: 1, 407: 1, 805: 1, 1094: 1, 126: 1, 369: 1, 645: 1, 64: 5, 921: 1, 539: 1, 1154: 1, 1171: 1, 1306: 1, 1092: 1, 1295: 1, 400: 1, 1496: 1, 399: 1, 177: 1, 1670: 1, 316: 1, 339: 1, 1123: 1, 1000: 1, 215: 1, 269: 1, 1640: 1, 666: 1, 287: 1, 956: 1, 1275: 1, 438: 1, 1453: 1, 963: 1, 308: 2, 188: 1, 228: 1, 217: 1, 716: 1, 597: 1, 1458: 1, 708: 1, 1052: 1, 798: 1, 190: 1, 396: 1, 727: 1, 352: 1, 436: 1}

# print('0:', di[0])

# count1 = 0
# for i in di.values():
#     if i == 1:
#         count1 += 1

# print(count1)